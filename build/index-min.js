KISSY.add("kg/top/1.0.0/index",["node","base","anim"],function(t,e,n,o){{var i,s=e("node"),r=e("base");e("anim")}i=function(e){var n=s,o=n.all,i=r,a=i.extend({initializer:function(){var t=this,e=t.get("showPos");0===e&&o(window).on("resize",function(){t.set("showPos",o(window).height())})},_create:function(){var t=this,e=t.get("tpl"),n=o(e);return t.set("$target",n),o("body").append(n),n.on("click",function(e){e.preventDefault(),t.run()}),n},render:function(){var e=this,n=e.get("showPos"),i=e.get("$target");o(window).on("scroll",function(){o(window).scrollTop()>n?(i.length||(i=e._create()),t.later(function(){e.set("visible",!0)})):e.set("visible",!1)}),i.length&&i.on("click",function(t){t.preventDefault(),e.run()})},run:function(){var t=this,e=t.get("scrollSpeed");o("body").animate({scrollTop:0},e,"swing")}},{ATTRS:{$target:{value:"",getter:function(t){return o(t)}},showPos:{value:0,getter:function(t){return t>0?t:o(window).height()}},tpl:{value:'<div class="J_Top goto-top"><div class="top-bg"></div><span class="vc-iconfont top-icon">&#xe600;</span></div>'},visible:{value:!1,setter:function(t){var e=this,n=e.get("$target"),o=e.get("showClass");return n[t&&"addClass"||"removeClass"](o),t}},scrollSpeed:{value:1},showClass:{value:"top-show"}}});return e=a}(),o.exports=i});